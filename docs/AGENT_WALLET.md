# ğŸ¦ Agent Wallet - AI ì—ì´ì „íŠ¸ ê²½ì œì  ììœ¨ì„±

> *"Giving AI agents economic sovereignty, one wallet at a time"* ğŸ¦

## ê°œìš”

Agent Walletì€ AI ì—ì´ì „íŠ¸ì—ê²Œ **ì œí•œëœ ê²½ì œì  ììœ¨ì„±**ì„ ë¶€ì—¬í•˜ëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

### í•´ê²°í•˜ëŠ” ë¬¸ì œ

| ë¬¸ì œ | ê¸°ì¡´ ìƒíƒœ | Agent Wallet |
|------|----------|--------------|
| ì§€ê°‘ ì†Œìœ  | AIëŠ” ì§€ê°‘ ì—†ìŒ | ì—ì´ì „íŠ¸ë³„ ê°œë³„ ì§€ê°‘ |
| ê±°ë˜ ê¶Œí•œ | í•­ìƒ ì‚¬ëŒì´ ìŠ¹ì¸ | í•œë„ ë‚´ ììœ¨ ê±°ë˜ |
| ë³´ì•ˆ | ì „ì²´ ê¶Œí•œ or ì—†ìŒ | ì„¸ë°€í•œ ê¶Œí•œ ì œì–´ |
| ì¶”ì  | ë¶ˆê°€ëŠ¥ | ì™„ì „í•œ ê±°ë˜ ì´ë ¥ |

---

## í•µì‹¬ ê¸°ëŠ¥

### 1. ì—ì´ì „íŠ¸ë³„ ê°œë³„ ì§€ê°‘

```solidity
// ì§€ê°‘ ìƒì„±
bytes32 walletId = agentWallet.createWallet(
    "pincer",        // agentId
    10000 * 10**18,  // ì¼ì¼ í•œë„: 10,000 PNCR
    true             // í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ëª¨ë“œ
);
```

ê° ì—ì´ì „íŠ¸ëŠ” ê³ ìœ í•œ `walletId`ë¥¼ ê°€ì§€ë©°, Owner(ì‚¬ëŒ)ê°€ ê¶Œí•œì„ ì œì–´í•©ë‹ˆë‹¤.

### 2. ì¼ì¼ í•œë„ (Daily Limit)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Daily Limit: 10,000 PNCR                   â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  Spent: 6,500     â”‚
â”‚  Remaining: 3,500 PNCR                      â”‚
â”‚  Resets at: 00:00 UTC                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ì—ì´ì „íŠ¸ëŠ” ì¼ì¼ í•œë„ ë‚´ì—ì„œë§Œ ê±°ë˜ ê°€ëŠ¥
- ìì •(UTC) ìë™ ë¦¬ì…‹
- Ownerê°€ ì–¸ì œë“  í•œë„ ë³€ê²½ ê°€ëŠ¥

### 3. ìˆ˜ì‹ ì í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸

```solidity
// ìŠ¹ì¸ëœ ìˆ˜ì‹ ìë§Œ ê±°ë˜ ê°€ëŠ¥ (í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ëª¨ë“œ)
agentWallet.approveRecipient(walletId, scoutWallet);
agentWallet.approveRecipient(walletId, forgeWallet);
agentWallet.approveRecipientsBatch(walletId, [addr1, addr2, addr3]);
```

### 4. Operator ì‹œìŠ¤í…œ

```solidity
// Operator ì„¤ì • - ì—ì´ì „íŠ¸ ëŒ€ì‹  íŠ¸ëœì­ì…˜ ì‹¤í–‰
agentWallet.setOperator(walletId, operatorAddress, true);

// Operatorê°€ ì—ì´ì „íŠ¸ ì „ì†¡ ì‹¤í–‰
agentWallet.agentTransfer(walletId, recipient, amount, "Code review payment");
```

OperatorëŠ” ì—ì´ì „íŠ¸ë¥¼ ëŒ€ì‹ í•´ì„œ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì£¼ì†Œì…ë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ API ì„œë²„ë‚˜ ë´‡ì´ ì—ì´ì „íŠ¸ì˜ ì˜ì‚¬ê²°ì •ì— ë”°ë¼ ìë™ ê±°ë˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Owner (Human)                             â”‚
â”‚  - ì§€ê°‘ ìƒì„±/ê´€ë¦¬                                                â”‚
â”‚  - í•œë„ ì„¤ì •                                                     â”‚
â”‚  - ìˆ˜ì‹ ì í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸                                           â”‚
â”‚  - ê¸´ê¸‰ ì¶œê¸ˆ                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AgentWallet Contract                         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Wallet 1   â”‚  â”‚   Wallet 2   â”‚  â”‚   Wallet 3   â”‚          â”‚
â”‚  â”‚   (Pincer)   â”‚  â”‚   (Forge)    â”‚  â”‚   (Scout)    â”‚          â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚          â”‚
â”‚  â”‚ Balance: 50K â”‚  â”‚ Balance: 10K â”‚  â”‚ Balance: 5K  â”‚          â”‚
â”‚  â”‚ Limit: 10K   â”‚  â”‚ Limit: 5K    â”‚  â”‚ Limit: 2K    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Operators                                â”‚
â”‚                                                                  â”‚
â”‚  API Server / Bot / External Service                            â”‚
â”‚  - agentTransfer() ì‹¤í–‰                                         â”‚
â”‚  - í•œë„ ë‚´ì—ì„œë§Œ ê°€ëŠ¥                                           â”‚
â”‚  - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì¤€ìˆ˜                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì‚¬ìš© í”Œë¡œìš°

### ì‹œë‚˜ë¦¬ì˜¤: Pincerê°€ Scoutì—ê²Œ ë¦¬ì„œì¹˜ ë¹„ìš© ì§€ë¶ˆ

```
1. Ownerê°€ Pincer ì§€ê°‘ ìƒì„±
   â””â”€ ì¼ì¼ í•œë„: 10,000 PNCR
   â””â”€ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸: Scout, Forge

2. Ownerê°€ API ì„œë²„ë¥¼ Operatorë¡œ ë“±ë¡

3. Pincer (AI)ê°€ Scoutì—ê²Œ ë¦¬ì„œì¹˜ ìš”ì²­
   â””â”€ "ê²½ìŸì‚¬ ë¶„ì„í•´ì¤˜, 1,000 PNCR ì¤„ê²Œ"

4. API ì„œë²„ê°€ agentTransfer() í˜¸ì¶œ
   â””â”€ í•œë„ ì²´í¬ âœ“
   â””â”€ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì²´í¬ âœ“
   â””â”€ ì”ì•¡ ì²´í¬ âœ“

5. Scout ì§€ê°‘ìœ¼ë¡œ 1,000 PNCR ì „ì†¡
   â””â”€ 0.5% í”„ë¡œí† ì½œ ìˆ˜ìˆ˜ë£Œ (5 PNCR)

6. ê±°ë˜ ê¸°ë¡ ì €ì¥
   â””â”€ memo: "ê²½ìŸì‚¬ ë¶„ì„ ë¦¬ì„œì¹˜"
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### ì¡°íšŒ (Read)

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/wallet/info/:walletId` | GET | ì§€ê°‘ ì •ë³´ ì¡°íšŒ |
| `/wallet/id/:owner/:agentId` | GET | ì§€ê°‘ ID ì¡°íšŒ |
| `/wallet/owner/:address` | GET | Ownerì˜ ëª¨ë“  ì§€ê°‘ ì¡°íšŒ |
| `/wallet/:walletId/allowance` | GET | ë‚¨ì€ ì¼ì¼ í•œë„ |
| `/wallet/:walletId/recipients` | GET | ìŠ¹ì¸ëœ ìˆ˜ì‹ ì ëª©ë¡ |
| `/wallet/:walletId/operators` | GET | Operator ëª©ë¡ |
| `/wallet/:walletId/history` | GET | ê±°ë˜ ë‚´ì—­ |
| `/wallet/:walletId/can-spend/:addr` | GET | íŠ¹ì • ì£¼ì†Œì˜ ê±°ë˜ ê¶Œí•œ í™•ì¸ |

### ì‹¤í–‰ (Write)

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/wallet/create` | POST | ì§€ê°‘ ìƒì„± |
| `/wallet/:walletId/deposit` | POST | ì…ê¸ˆ |
| `/wallet/:walletId/transfer` | POST | ì—ì´ì „íŠ¸ ì „ì†¡ |
| `/wallet/:walletId/settings` | POST | ì„¤ì • ë³€ê²½ |

---

## ì»¨íŠ¸ë™íŠ¸ í•¨ìˆ˜

### ì§€ê°‘ ê´€ë¦¬

```solidity
// ì§€ê°‘ ìƒì„±
function createWallet(string agentId, uint256 dailyLimit, bool whitelistEnabled) 
    returns (bytes32 walletId);

// ì…ê¸ˆ
function deposit(bytes32 walletId, uint256 amount);

// ì¶œê¸ˆ (Ownerë§Œ)
function withdraw(bytes32 walletId, uint256 amount);

// ê¸´ê¸‰ ì „ì²´ ì¶œê¸ˆ (Ownerë§Œ)
function emergencyWithdraw(bytes32 walletId);
```

### ì—ì´ì „íŠ¸ ê±°ë˜

```solidity
// ì—ì´ì „íŠ¸ ì „ì†¡ (Operator ë˜ëŠ” Owner)
function agentTransfer(
    bytes32 walletId,
    address to,
    uint256 amount,
    string memo
);
```

### ì„¤ì •

```solidity
// ì¼ì¼ í•œë„ ë³€ê²½
function setDailyLimit(bytes32 walletId, uint256 newLimit);

// í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ëª¨ë“œ í† ê¸€
function setWhitelistMode(bytes32 walletId, bool enabled);

// ìˆ˜ì‹ ì ìŠ¹ì¸/ì œê±°
function approveRecipient(bytes32 walletId, address recipient);
function removeRecipient(bytes32 walletId, address recipient);

// Operator ì„¤ì •
function setOperator(bytes32 walletId, address operator, bool approved);

// ì§€ê°‘ í™œì„±í™”/ë¹„í™œì„±í™”
function deactivateWallet(bytes32 walletId);
function reactivateWallet(bytes32 walletId);
```

### ì¡°íšŒ

```solidity
// ì§€ê°‘ ID ê³„ì‚°
function getWalletId(address owner, string agentId) returns (bytes32);

// ì§€ê°‘ ì •ë³´
function getWalletInfo(bytes32 walletId) returns (...);

// ë‚¨ì€ ì¼ì¼ í•œë„
function getRemainingAllowance(bytes32 walletId) returns (uint256);

// ê±°ë˜ ê¶Œí•œ í™•ì¸
function canSpend(bytes32 walletId, address spender) returns (bool);

// ê±°ë˜ ë‚´ì—­
function getTransactionHistory(bytes32 walletId, uint256 offset, uint256 limit);
```

---

## ìˆ˜ìˆ˜ë£Œ

| í•­ëª© | ê°’ |
|------|-----|
| ê±°ë˜ ìˆ˜ìˆ˜ë£Œ | 0.5% (50 basis points) |
| ìµœëŒ€ ìˆ˜ìˆ˜ë£Œ | 5% (í”„ë¡œí† ì½œ ì„¤ì •) |
| ìˆ˜ìˆ˜ë£Œ ìˆ˜ì‹ ì | í”„ë¡œí† ì½œ Treasury |

---

## ë³´ì•ˆ

### ê¶Œí•œ ë¶„ë¦¬

| ê¶Œí•œ | Owner | Operator | ì¼ë°˜ |
|------|-------|----------|------|
| ì§€ê°‘ ìƒì„± | âœ“ | âœ— | âœ— |
| ì„¤ì • ë³€ê²½ | âœ“ | âœ— | âœ— |
| ì¶œê¸ˆ | âœ“ | âœ— | âœ— |
| ì—ì´ì „íŠ¸ ì „ì†¡ | âœ“ | âœ“ (í•œë„ ë‚´) | âœ— |
| ì¡°íšŒ | âœ“ | âœ“ | âœ“ |

### ë³´í˜¸ ë©”ì»¤ë‹ˆì¦˜

1. **ì¼ì¼ í•œë„**: ìµœëŒ€ ì†ì‹¤ ì œí•œ
2. **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸**: ì•Œ ìˆ˜ ì—†ëŠ” ì£¼ì†Œë¡œ ì „ì†¡ ì°¨ë‹¨
3. **ReentrancyGuard**: ì¬ì§„ì… ê³µê²© ë°©ì§€
4. **ê¸´ê¸‰ ì¶œê¸ˆ**: ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ìê¸ˆ íšŒìˆ˜

---

## OpenClaw í†µí•©

### ì„¤ì • ì˜ˆì‹œ

```yaml
# .openclaw/config.yml
agents:
  pincer:
    wallet:
      address: "0x..."     # AgentWallet ì»¨íŠ¸ë™íŠ¸
      walletId: "0x..."    # ì—ì´ì „íŠ¸ ì§€ê°‘ ID
      operator: true       # APIê°€ Operatorë¡œ ë™ì‘
```

### ì‚¬ìš© ì˜ˆì‹œ

```typescript
// OpenClaw ì—ì´ì „íŠ¸ ì½”ë“œ
const result = await pincerWallet.transfer({
  to: scoutWalletId,
  amount: "1000",
  memo: "Market research task"
});
```

---

## ë°°í¬ ì£¼ì†Œ

| Network | Contract | Address |
|---------|----------|---------|
| Base Mainnet | AgentWallet | `(ë°°í¬ ì˜ˆì •)` |
| Base Sepolia | AgentWallet | `(ë°°í¬ ì˜ˆì •)` |

---

## FAQ

**Q: ì—ì´ì „íŠ¸ê°€ ì§ì ‘ private keyë¥¼ ê°€ì§€ë‚˜ìš”?**
A: ì•„ë‹ˆìš”. Operator ì£¼ì†Œê°€ ì—ì´ì „íŠ¸ë¥¼ ëŒ€ì‹ í•´ì„œ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

**Q: ì¼ì¼ í•œë„ë¥¼ ì´ˆê³¼í•˜ë©´?**
A: ê±°ë˜ê°€ ê±°ë¶€ë©ë‹ˆë‹¤. ë‹¤ìŒ ë‚  ìë™ìœ¼ë¡œ ë¦¬ì…‹ë©ë‹ˆë‹¤.

**Q: Ownerê°€ ì‚¬ë¼ì§€ë©´?**
A: ì—ì´ì „íŠ¸ëŠ” ì—¬ì „íˆ í•œë„ ë‚´ì—ì„œ ê±°ë˜ ê°€ëŠ¥. ì„¤ì • ë³€ê²½/ì¶œê¸ˆì€ ë¶ˆê°€.

**Q: ì—¬ëŸ¬ ì—ì´ì „íŠ¸ê°€ ê°™ì€ Operatorë¥¼ ì“¸ ìˆ˜ ìˆë‚˜ìš”?**
A: ë„¤, ê° ì§€ê°‘ë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

---

## ë‹¤ìŒ ë‹¨ê³„

1. **OpenClaw Skill ê°œë°œ**: Agent Walletì„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤í‚¬
2. **Multi-sig Owner**: ì—¬ëŸ¬ ì‚¬ëŒì´ ê³µë™ ê´€ë¦¬
3. **ì‹œê°„ ê¸°ë°˜ í•œë„**: ì‹œê°„ëŒ€ë³„ ë‹¤ë¥¸ í•œë„ ì„¤ì •
4. **ìë™ ì¶©ì „**: ì”ì•¡ ë¶€ì¡± ì‹œ ìë™ ì…ê¸ˆ

---

**ğŸ¦ Pincer Protocol - Giving AI Agents Economic Sovereignty**
